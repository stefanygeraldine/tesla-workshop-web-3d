(this["webpackJsonptesla-workshop-web-3d"]=this["webpackJsonptesla-workshop-web-3d"]||[]).push([[0],{117:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(103),o=n.n(r),a=(n(117),n(17)),i=n(26),j=n(10),l=n(12),b=n(0),h=n(11),u={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new b.Vector3(9,2,4),target:new b.Vector3(4,0,0),shouldUpdate:!0},d=n(75),O={contentColors:{position:"absolute",zIndex:1,left:0,top:0,width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},f=function(){var e=Object(c.useState)("#000"),t=Object(l.a)(e,2),n=t[0],s=t[1],r=function(e){var t=e.hex;u.activeMesh&&(u.activeMesh.material.color=new b.Color(t),s(t))};return Object(h.jsxs)("div",{style:O.contentColors,children:[Object(h.jsx)("h1",{children:"Selecciona un Color"}),Object(h.jsx)("div",{style:{marginBottom:20},children:Object(h.jsx)(d.b,{color:n,onChangeComplete:r})}),Object(h.jsx)("div",{children:Object(h.jsx)(d.a,{color:n,colors:["#000000","#ecda1b","#1b69ec","#db3e00","#909090","#ffffff"],onChangeComplete:r})})]})},p=function(e){var t=Object(a.d)(b.TextureLoader,"/tesla-workshop-web-3d/autoshop.jpg"),n=Object(a.e)().gl,s=Object(c.useMemo)((function(){return new b.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(n,t)}),[n,t]);return Object(h.jsx)("primitive",{attach:"background",object:s.texture})},g=function(e){var t=Object(i.b)((function(){return Object(j.a)({args:[20,1,10]},e)})),n=Object(l.a)(t,2),c=n[0];n[1];return Object(h.jsxs)("mesh",Object(j.a)(Object(j.a)({ref:c},e),{},{receiveShadow:!0,children:[Object(h.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(h.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},m=n(110);Object(a.b)({OrbitControls:m.a});var x=function(e){var t=Object(a.e)(),n=t.camera,c=t.gl;return Object(h.jsx)("orbitControls",{args:[n,c.domElement],attach:"orbitControls"})},v=function(e){var t=Object(c.useRef)(),n=Object(a.e)().scene;return Object(c.useEffect)((function(){n.lights?n.lights.push(t):n.lights=[t]}),[]),Object(h.jsxs)("mesh",Object(j.a)(Object(j.a)({},e),{},{ref:t,children:[Object(h.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(h.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(h.jsx)("meshPhongMaterial",{emissive:"white"})]}))},w=n(111);Object(a.b)({DragControls:w.a});var y=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),s=Object(c.useState)([]),r=Object(l.a)(s,2),o=r[0],i=r[1],j=Object(a.e)(),b=j.camera,u=j.gl,d=j.scene;return Object(c.useEffect)((function(){i(t.current.children)}),[]),Object(c.useEffect)((function(){n.current.addEventListener("hoveron",(function(e){return d.orbitControls.enabled=!1})),n.current.addEventListener("hoveroff",(function(e){return d.orbitControls.enabled=!0})),n.current.addEventListener("drag",(function(e){var t,n,c,s;console.log("\xf1\xf1",e),null===(t=e.object)||void 0===t||null===(n=t.api)||void 0===n||n.position.copy(e.object.position),null===(c=e.object)||void 0===c||null===(s=c.api)||void 0===s||s.velocity.set(0,0,0)}))}),[o]),Object(h.jsxs)("group",{ref:t,children:[Object(h.jsx)("dragControls",{transformGroup:e.transformGroup,ref:n,args:[o,b,u.domElement]}),e.children]})},C=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,c=e.offset,s=void 0===c?[0,0,0]:c,r=e.dims,o=void 0===r?[1,1,1]:r,a=e.visible,j=void 0!==a&&a,b=e.children,u=Object(i.b)((function(){return{mass:1,args:o,position:n}})),d=Object(l.a)(u,2),O=d[0],f=d[1];return Object(h.jsxs)("group",{ref:O,api:f,children:[Object(h.jsxs)("mesh",{scale:o,visible:j,children:[Object(h.jsx)("boxBufferGeometry",{}),Object(h.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(h.jsx)("group",{position:s,children:b})]})},M=n(112),S=function(e){var t,n=Object(a.d)(M.a,"/tesla-workshop-web-3d"+e.path);return n.animations.length>0&&(t=new b.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(a.c)((function(e,n){var c;null===(c=t)||void 0===c||c.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=b.FrontSide)})),Object(h.jsx)("primitive",Object(j.a)({object:n.scene},e))},k=function(){return Object(h.jsxs)(c.Suspense,{fallback:null,children:[Object(h.jsx)(y,{transformGroup:!0,children:Object(h.jsx)(C,{position:[4,2,0],dims:[3,2,6],offset:[0,-.5,.8],children:Object(h.jsx)(S,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(h.jsx)(y,{transformGroup:!0,children:Object(h.jsx)(C,{position:[-4,0,0],dims:[3,2,7],offset:[0,-.5,.8],children:Object(h.jsx)(S,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})})}),Object(h.jsx)("group",{rotation:[0,Math.PI,0],children:Object(h.jsx)(S,{path:"/mech_drone/scene.gltf",scale:new Array(3).fill(.01)})})]})},P=n(113),_=function(e){return Object(P.a)(e),Object(a.c)((function(e){var t=e.camera,n=e.scene;(u.activeMesh.name!==u.activeMeshName&&(u.activeMesh=n.getObjectByName(u.activeMeshName)||{}),u.shouldUpdate)&&(t.position.lerp(u.cameraPos,.1),n.orbitControls.target.lerp(u.target,.1),n.orbitControls.update(),t.position.clone().sub(u.cameraPos).length()<.1&&(u.shouldUpdate=!1))})),null},E=n(16),L={width:50},A={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"transparent",border:0,cursor:"pointer"},G=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},t=function(t){var n,c;(n=u.cameraPos).set.apply(n,Object(E.a)(e[t].cameraPos)),(c=u.target).set.apply(c,Object(E.a)(e[t].target)),u.activeMeshName=e[t].name,u.shouldUpdate=!0};return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(e){return t(2)},style:Object(j.a)({left:"40vw"},A),children:Object(h.jsx)("img",{src:"/tesla-workshop-web-3d/left.png",style:L})}),Object(h.jsx)("button",{onClick:function(e){return t(1)},style:Object(j.a)({right:"40vw"},A),children:Object(h.jsx)("img",{src:"/tesla-workshop-web-3d/left.png",style:Object(j.a)(Object(j.a)({},L),{},{transform:"scale(-1, 1)"})})})]})},I=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ambientLight",{intensity:.2}),Object(h.jsx)("directionalLight",{intensity:2,position:[6,3,0],"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10})]})},B=n(37),N=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.e)().scene;return Object(c.useEffect)((function(){r.lights&&3===r.lights.length&&s(r.lights)}),[r.lights]),n?Object(h.jsxs)(B.b,{children:[Object(h.jsx)(B.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),n.map((function(e){return Object(h.jsx)(B.c,{sun:e.current},e.current.uuid)}))]}):null};var T=function(){return Object(h.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(h.jsx)(f,{}),Object(h.jsx)(G,{}),Object(h.jsxs)(a.a,{gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},shadows:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(h.jsx)(_,{}),Object(h.jsx)("fog",{attach:"fog",args:["white",1,50]}),Object(h.jsx)(I,{}),Object(h.jsx)(x,{}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(p,{})}),Object(h.jsx)(v,{position:[-6,3,0]}),Object(h.jsx)(v,{position:[0,3,0]}),Object(h.jsx)(v,{position:[6,3,0]}),Object(h.jsxs)(i.a,{children:[Object(h.jsx)(k,{}),Object(h.jsx)(g,{position:[0,-.5,0]})]}),Object(h.jsx)(N,{})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root")),z()}},[[229,1,2]]]);
//# sourceMappingURL=main.c7eafb20.chunk.js.map