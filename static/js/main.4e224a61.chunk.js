(this["webpackJsonptesla-workshop-web-3d"]=this["webpackJsonptesla-workshop-web-3d"]||[]).push([[0],{45:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(5),o=n.n(c),r=n(35),s=n.n(r),i=(n(45),n(15)),a=n(20),l=n(8),j=n(10),b=n(0),u=n(9),h={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new b.Vector3(9,2,4),target:new b.Vector3(4,0,0),shouldUpdate:!0},d={contentColors:{position:"absolute",zIndex:1,left:0,top:0,width:"100%",display:"flex",alignItems:"end",justifyContent:"center"},yellow:{backgroundColor:"yellow"},blue:{backgroundColor:"blue"},red:{backgroundColor:"red"}},O=function(e){h.activeMesh&&(h.activeMesh.material.color=new b.Color(e.target.value))},f=function(){return Object(u.jsx)("div",{style:d.contentColors,children:Object(u.jsx)("input",{type:"color",onChange:O})})},p=function(e){var t=Object(i.d)(b.TextureLoader,"/tesla-workshop-web-3d/autoshop.jpg"),n=Object(i.e)().gl,o=Object(c.useMemo)((function(){return new b.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(n,t)}),[n,t]);return Object(u.jsx)("primitive",{attach:"background",object:o.texture})},g=function(e){var t=Object(a.b)((function(){return Object(l.a)({args:[20,1,10]},e)})),n=Object(j.a)(t,2),c=n[0];n[1];return Object(u.jsxs)("mesh",Object(l.a)(Object(l.a)({ref:c},e),{},{receiveShadow:!0,children:[Object(u.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(u.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},x=n(38);Object(i.b)({OrbitControls:x.a});var m=function(e){var t=Object(i.e)(),n=t.camera,c=t.gl;return Object(u.jsx)("orbitControls",{args:[n,c.domElement],attach:"orbitControls"})},v=function(e){var t=Object(c.useRef)(),n=Object(i.e)().scene;return Object(c.useEffect)((function(){n.lights?n.lights.push(t):n.lights=[t]}),[]),Object(u.jsxs)("mesh",Object(l.a)(Object(l.a)({},e),{},{ref:t,children:[Object(u.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(u.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(u.jsx)("meshPhongMaterial",{emissive:"white"})]}))},w=n(39);Object(i.b)({DragControls:w.a});var y=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),o=Object(c.useState)([]),r=Object(j.a)(o,2),s=r[0],a=r[1],l=Object(i.e)(),b=l.camera,h=l.gl,d=l.scene;return Object(c.useEffect)((function(){a(t.current.children)}),[]),Object(c.useEffect)((function(){n.current.addEventListener("hoveron",(function(e){return d.orbitControls.enabled=!1})),n.current.addEventListener("hoveroff",(function(e){return d.orbitControls.enabled=!0})),n.current.addEventListener("drag",(function(e){var t,n,c,o;console.log("\xf1\xf1",e),null===(t=e.object)||void 0===t||null===(n=t.api)||void 0===n||n.position.copy(e.object.position),null===(c=e.object)||void 0===c||null===(o=c.api)||void 0===o||o.velocity.set(0,0,0)}))}),[s]),Object(u.jsxs)("group",{ref:t,children:[Object(u.jsx)("dragControls",{transformGroup:e.transformGroup,ref:n,args:[s,b,h.domElement]}),e.children]})},C=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,c=e.offset,o=void 0===c?[0,0,0]:c,r=e.dims,s=void 0===r?[1,1,1]:r,i=e.visible,l=void 0!==i&&i,b=e.children,h=Object(a.b)((function(){return{mass:1,args:s,position:n}})),d=Object(j.a)(h,2),O=d[0],f=d[1];return Object(u.jsxs)("group",{ref:O,api:f,children:[Object(u.jsxs)("mesh",{scale:s,visible:l,children:[Object(u.jsx)("boxBufferGeometry",{}),Object(u.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(u.jsx)("group",{position:o,children:b})]})},M=n(40),k=function(e){var t,n=Object(i.d)(M.a,"/tesla-workshop-web-3d"+e.path);return n.animations.length>0&&(t=new b.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(i.c)((function(e,n){var c;null===(c=t)||void 0===c||c.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=b.FrontSide)})),Object(u.jsx)("primitive",Object(l.a)({object:n.scene},e))},S=function(){return Object(u.jsxs)(c.Suspense,{fallback:null,children:[Object(u.jsx)(y,{transformGroup:!0,children:Object(u.jsx)(C,{position:[4,2,0],dims:[3,2,6],offset:[0,-.5,.8],children:Object(u.jsx)(k,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(u.jsx)(y,{transformGroup:!0,children:Object(u.jsx)(C,{position:[-4,0,0],dims:[3,2,7],offset:[0,-.5,.8],children:Object(u.jsx)(k,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})})}),Object(u.jsx)("group",{rotation:[0,Math.PI,0],children:Object(u.jsx)(k,{path:"/mech_drone/scene.gltf",scale:new Array(3).fill(.01)})})]})},P=n(41),_=function(e){return Object(P.a)(e),Object(i.c)((function(e){var t=e.camera,n=e.scene;(h.activeMesh.name!==h.activeMeshName&&(h.activeMesh=n.getObjectByName(h.activeMeshName)||{}),h.shouldUpdate)&&(t.position.lerp(h.cameraPos,.1),n.orbitControls.target.lerp(h.target,.1),n.orbitControls.update(),t.position.clone().sub(h.cameraPos).length()<.1&&(h.shouldUpdate=!1))})),null},E=n(14),L={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"},A=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},t=function(t){var n,c;(n=h.cameraPos).set.apply(n,Object(E.a)(e[t].cameraPos)),(c=h.target).set.apply(c,Object(E.a)(e[t].target)),h.activeMeshName=e[t].name,h.shouldUpdate=!0};return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(e){return t(2)},style:Object(l.a)({left:"40vw"},L),children:"<"}),Object(u.jsx)("button",{onClick:function(e){return t(1)},style:Object(l.a)({right:"40vw"},L),children:">"})]})},G=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ambientLight",{intensity:.2}),Object(u.jsx)("directionalLight",{intensity:2,position:[6,3,0],"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10})]})},I=n(25),z=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),n=t[0],o=t[1],r=Object(i.e)().scene;return Object(c.useEffect)((function(){r.lights&&3===r.lights.length&&o(r.lights)}),[r.lights]),n?Object(u.jsxs)(I.b,{children:[Object(u.jsx)(I.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),n.map((function(e){return Object(u.jsx)(I.c,{sun:e.current},e.current.uuid)}))]}):null};var N=function(){return Object(u.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(u.jsx)(f,{}),Object(u.jsx)(A,{}),Object(u.jsxs)(i.a,{gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},shadows:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(u.jsx)(_,{}),Object(u.jsx)("fog",{attach:"fog",args:["white",1,50]}),Object(u.jsx)(G,{}),Object(u.jsx)(m,{}),Object(u.jsx)(c.Suspense,{fallback:null,children:Object(u.jsx)(p,{})}),Object(u.jsx)(v,{position:[-6,3,0]}),Object(u.jsx)(v,{position:[0,3,0]}),Object(u.jsx)(v,{position:[6,3,0]}),Object(u.jsxs)(a.a,{children:[Object(u.jsx)(S,{}),Object(u.jsx)(g,{position:[0,-.5,0]})]}),Object(u.jsx)(z,{})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),R()}},[[50,1,2]]]);
//# sourceMappingURL=main.4e224a61.chunk.js.map